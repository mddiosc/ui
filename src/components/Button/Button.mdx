import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import { Button } from './Button';

<Meta title="Components/Button/Documentation" />

# Button

A versatile button component with multiple variants, sizes, and full accessibility support.

## Overview

The Button component is built on top of Radix UI's Slot primitive, providing excellent composition capabilities while maintaining full accessibility through WAI-ARIA standards.

### Key Features

- ✅ **6 Variants** - Primary, Secondary, Outline, Ghost, Link, Destructive
- ✅ **3 Sizes** - Small, Medium, Large
- ✅ **Fully Accessible** - ARIA compliant with keyboard navigation
- ✅ **Composable** - Use `asChild` for custom elements
- ✅ **Type-Safe** - Full TypeScript support
- ✅ **Zero-Runtime** - Styled with Panda CSS

---

## Variants

### Primary

The default variant for primary actions. High contrast and attention-grabbing.

```tsx
<Button variant="primary">Primary Action</Button>
```

**Use cases:**
- Main call-to-action buttons
- Form submissions
- Primary navigation actions

---

### Secondary

Less prominent than primary, suitable for secondary actions.

```tsx
<Button variant="secondary">Secondary Action</Button>
```

**Use cases:**
- Alternative actions
- Cancel buttons
- Secondary navigation

---

### Outline

Minimal style with border, good for less important actions.

```tsx
<Button variant="outline">Outline Button</Button>
```

**Use cases:**
- Tertiary actions
- Filter buttons
- Toolbar actions

---

### Ghost

Transparent background, appears on hover. Very subtle.

```tsx
<Button variant="ghost">Ghost Button</Button>
```

**Use cases:**
- Icon buttons
- Menu items
- Subtle interactions

---

### Link

Styled like a hyperlink, no background or border.

```tsx
<Button variant="link">Link Button</Button>
```

**Use cases:**
- In-text actions
- Navigation links
- Subtle CTAs

---

### Destructive

Red variant for dangerous or destructive actions.

```tsx
<Button variant="destructive">Delete</Button>
```

**Use cases:**
- Delete actions
- Destructive operations
- Warning actions

---

## Sizes

### Small

Compact size for tight spaces.

```tsx
<Button size="sm">Small Button</Button>
```

### Medium (Default)

Standard size for most use cases.

```tsx
<Button size="md">Medium Button</Button>
```

### Large

Larger size for emphasis or touch targets.

```tsx
<Button size="lg">Large Button</Button>
```

---

## States

### Disabled

Prevents interaction and shows disabled state.

```tsx
<Button disabled>Disabled Button</Button>
```

**Accessibility:** Automatically sets `aria-disabled="true"` and prevents click events.

---

## Composition with asChild

Use the `asChild` prop to render the button styles on a different element.

### As Link

```tsx
<Button asChild>
  <a href="/profile">Go to Profile</a>
</Button>
```

### With Next.js Link

```tsx
import Link from 'next/link';

<Button asChild>
  <Link href="/dashboard">Dashboard</Link>
</Button>
```

### With React Router

```tsx
import { Link } from 'react-router-dom';

<Button asChild>
  <Link to="/settings">Settings</Link>
</Button>
```

---

## Accessibility

The Button component follows WAI-ARIA best practices:

- ✅ **Keyboard Navigation** - Fully accessible via keyboard (Enter, Space)
- ✅ **Focus Management** - Clear focus indicators
- ✅ **ARIA Attributes** - Proper `role` and `aria-*` attributes
- ✅ **Disabled State** - Correctly handles `aria-disabled`

### Screen Reader Support

```tsx
<Button aria-label="Close dialog">
  <CloseIcon />
</Button>
```

---

## API Reference

### Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `variant` | `'primary' \| 'secondary' \| 'outline' \| 'ghost' \| 'link' \| 'destructive'` | `'primary'` | Visual style variant |
| `size` | `'sm' \| 'md' \| 'lg'` | `'md'` | Button size |
| `disabled` | `boolean` | `false` | Disables the button |
| `asChild` | `boolean` | `false` | Renders as child element |
| `className` | `string` | - | Additional CSS classes |
| `onClick` | `() => void` | - | Click handler |

All standard HTML button attributes are also supported.

---

## Usage Examples

### Form Submit

```tsx
<form onSubmit={handleSubmit}>
  <Button type="submit" variant="primary">
    Submit Form
  </Button>
</form>
```

### Loading State

```tsx
<Button disabled={isLoading}>
  {isLoading ? 'Loading...' : 'Save Changes'}
</Button>
```

### Icon Button

```tsx
<Button variant="ghost" size="sm" aria-label="Settings">
  <SettingsIcon />
</Button>
```

### Button Group

```tsx
<div style={{ display: 'flex', gap: '0.5rem' }}>
  <Button variant="outline">Cancel</Button>
  <Button variant="primary">Confirm</Button>
</div>
```

---

## Best Practices

### Do's ✅

- Use `primary` variant for the main action on a page
- Provide `aria-label` for icon-only buttons
- Use `disabled` state during loading operations
- Keep button text concise and action-oriented
- Use appropriate size for context (mobile vs desktop)

### Don'ts ❌

- Don't use multiple primary buttons in the same context
- Don't use buttons for navigation (use `asChild` with links)
- Don't disable buttons without explanation
- Don't use vague text like "Click here"
- Don't make buttons too small for touch targets

---

## Styling

The Button component uses Panda CSS recipes for styling. See the implementation:

```typescript
// src/recipes/button.recipe.ts
import { cva } from '../styled-system/css';

export const buttonRecipe = cva({
  base: {
    display: 'inline-flex',
    alignItems: 'center',
    justifyContent: 'center',
    borderRadius: 'md',
    fontWeight: 'semibold',
    transition: 'all',
    transitionDuration: 'fast',
    cursor: 'pointer',
    // ... more styles
  },
  variants: {
    variant: {
      primary: { /* ... */ },
      secondary: { /* ... */ },
      // ... more variants
    },
    size: {
      sm: { /* ... */ },
      md: { /* ... */ },
      lg: { /* ... */ },
    }
  }
});
```

---

## Testing

The Button component includes comprehensive tests:

- ✅ Renders correctly
- ✅ All variants render
- ✅ All sizes render
- ✅ Disabled state works
- ✅ Click events fire
- ✅ asChild composition works

Run tests:
```bash
pnpm test Button.test.tsx
```

---

## Related

- [Colors](/?path=/docs/foundation-colors--docs) - Color system used in variants
- [Typography](/?path=/docs/foundation-typography--docs) - Font sizes and weights
- [Spacing](/?path=/docs/foundation-spacing--docs) - Padding and spacing values

---

**Interactive Examples:** See the [Button Stories](/?path=/docs/components-button--docs) for live examples.
